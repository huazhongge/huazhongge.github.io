{"title":"【编程】Java实现记事本 - 初级版","date":"2019-03-25T12:40:59.000Z","slug":"2-1","comments":true,"tags":["Java"],"categories":["编程"],"updated":"2019-03-25T13:31:57.678Z","content":"<h2 id=\"前言\">前言<a href=\"post/2-1#前言\"></a></h2><p>Swing 是一个为Java设计的GUI工具包，包括了图形用户界面（GUI）器件如：文本框，按钮，分隔窗格和表。记事本是学习java.swing很好的一个案例。</p>\n<h2 id=\"介绍\">介绍<a href=\"post/2-1#介绍\"></a></h2><h3 id=\"JMenu\">JMenu<a href=\"post/2-1#JMenu\"></a></h3><ul>\n<li>菜单分下拉式菜单和弹出式菜单（JPopupMenu）</li>\n<li>下拉式菜单有三个组件：JMenuBar（菜单栏）、JMenu（菜单）、JMenuItem（菜单项）</li>\n<li>JMenuBar<ul>\n<li>表示一个水平的菜单栏</li>\n<li>通过调用setJMenuBar( ) 方法将JMenuBar设置在顶级窗口的顶部</li>\n<li>通过调用add( JMenu menu) 方法添加JMenu</li>\n</ul>\n</li>\n<li>JMenu<ul>\n<li>表示一个菜单，用来整理菜单项</li>\n<li>通过调用add() 方法向菜单里添加JMenuItem或者其他按钮</li>\n<li>通过调用addSeparator() 方法向菜单栏里添加分隔符</li>\n</ul>\n</li>\n<li>JMenuItem<ul>\n<li>供用户选择的菜单项</li>\n<li>JMenuIten继承AbstractButton类，可以把它看做一个按钮</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"JFileChooser\">JFileChooser<a href=\"post/2-1#JFileChooser\"></a></h3><ul>\n<li><p>JFileChooser可弹出针对用户主目录的文件选择器</p>\n</li>\n<li><p>主要用到的方法</p>\n<ul>\n<li><p>showOpenDialog(Component parent) 是弹出“打开”文件选择器的对话框，用户选择后返回int类型</p>\n<ul>\n<li>JFileChooser.CANCEL_OPTION - 取消</li>\n<li>JFileChooser.APPROVE_OPTION - 确认</li>\n<li>JFileChooser.ERROR_OPTION -  发生错误 </li>\n</ul>\n</li>\n<li><p>showSaveDialog(Component parent) 是弹出“保存”文件选择器对话框，同样返回int类型</p>\n</li>\n<li>getSelectedFile() 返回选中的文件，返回File类型</li>\n<li>getName(File f) 返回文件名，返回String类型</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"JOptionPane\">JOptionPane<a href=\"post/2-1#JOptionPane\"></a></h3><p>JOptionPane主要用来弹出要求用户提供值或向用户发出通知的标准对话框</p>\n<h2 id=\"基本功能\">基本功能<a href=\"post/2-1#基本功能\"></a></h2><ul>\n<li><p>新建文件、打开文件、保存文件、退出文件</p>\n</li>\n<li><p>撤销、剪切、复制、粘贴、删除</p>\n</li>\n<li><p>自动换行、字体、颜色</p>\n</li>\n<li><p>关于</p>\n</li>\n</ul>\n<h2 id=\"代码实现\">代码实现<a href=\"post/2-1#代码实现\"></a></h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.awt.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.event.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.swing.undo.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">notebook</span> <span class=\"keyword\">extends</span> <span class=\"title\">JFrame</span> //<span class=\"title\">JFrame</span>窗体是一个容器，它是<span class=\"title\">Swing</span>程序中各个组件的载体</span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">\tUndoManager manager = <span class=\"keyword\">new</span> UndoManager(); <span class=\"comment\">//添加布局管理器</span></span><br><span class=\"line\">\tJTextArea text = <span class=\"keyword\">new</span> JTextArea();</span><br><span class=\"line\">\tJFileChooser chooser; <span class=\"comment\">//定义文件选择器</span></span><br><span class=\"line\">\tString title = <span class=\"string\">\"新建笔记本\"</span>; <span class=\"comment\">//笔记本的默认名称</span></span><br><span class=\"line\">\tFile file;</span><br><span class=\"line\">\tJMenuBar mb; <span class=\"comment\">//定义菜单栏</span></span><br><span class=\"line\">\tJMenu M1,M2,M3,M4; <span class=\"comment\">//定义菜单</span></span><br><span class=\"line\">\tJMenuItem m11,m12,m13,m14,m15,m21,m22,m23,m24,m25,m32,m33,m41; <span class=\"comment\">//定义菜单项</span></span><br><span class=\"line\">\tJCheckBoxMenuItem m31 = <span class=\"keyword\">new</span> JCheckBoxMenuItem(<span class=\"string\">\"自动换行\"</span>,<span class=\"keyword\">true</span>); <span class=\"comment\">//定义扩展菜单中自动换行为勾选框并默认选中</span></span><br><span class=\"line\">\t<span class=\"comment\">/**文件格式过滤器**/</span></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">filter</span> <span class=\"keyword\">extends</span> <span class=\"title\">javax</span>.<span class=\"title\">swing</span>.<span class=\"title\">filechooser</span>.<span class=\"title\">FileFilter</span> //筛选特定后缀名的文件进行显示</span></span><br><span class=\"line\"><span class=\"class\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">accept</span><span class=\"params\">(File file)</span> <span class=\"comment\">//accept()方法是用来判断文件name是否符合指定的目录和名字要求</span></span></span><br><span class=\"line\"><span class=\"function\">\t\t</span>&#123;</span><br><span class=\"line\">\t\t\tString name = file.getName(); <span class=\"comment\">//获取文件name</span></span><br><span class=\"line\">\t\t\tname.toLowerCase(); <span class=\"comment\">//把文件name转为小写</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(name.endsWith(<span class=\"string\">\".txt\"</span>)||file.isDirectory()) <span class=\"comment\">//如果文件以.txt结尾或者文件是目录，则返回true</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span> <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">\t\t&#125;  </span><br><span class=\"line\">\t\t<span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getDescription</span><span class=\"params\">()</span> <span class=\"comment\">//将引用具体子类的子类对象的方法,不可以省略类中的getDescription(),原因是编译器只允许调用在类中声明的方法. </span></span></span><br><span class=\"line\"><span class=\"function\">\t\t</span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"string\">\".txt\"</span>;  </span><br><span class=\"line\">\t\t&#125;  </span><br><span class=\"line\">\t&#125;  </span><br><span class=\"line\">\t<span class=\"comment\">/**将菜单项JMenuItem添加到菜单JMenu**/</span>  </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> JMenuItem <span class=\"title\">AddItem</span><span class=\"params\">(String name,JMenu M)</span></span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\tJMenuItem m = <span class=\"keyword\">new</span> JMenuItem(name);</span><br><span class=\"line\">\t\tM.add(m);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> m;</span><br><span class=\"line\">\t&#125;  </span><br><span class=\"line\">\t<span class=\"comment\">/**将菜单JMenu添加到菜栏JMenuBar**/</span>  </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> JMenu <span class=\"title\">AddBar</span><span class=\"params\">(String name,JMenuBar mb)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\tJMenu M = <span class=\"keyword\">new</span> JMenu(name);</span><br><span class=\"line\">\t\tmb.add(M);</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> M; </span><br><span class=\"line\">\t&#125;  </span><br><span class=\"line\">\tnotebook() <span class=\"comment\">//记事本实例</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tsetTitle(title); <span class=\"comment\">//设置标题</span></span><br><span class=\"line\">\t\tsetBounds(<span class=\"number\">660</span>,<span class=\"number\">160</span>,<span class=\"number\">640</span>,<span class=\"number\">780</span>); <span class=\"comment\">//设置窗口位置和大小</span></span><br><span class=\"line\">\t\tmb = <span class=\"keyword\">new</span> JMenuBar();</span><br><span class=\"line\">\t\t<span class=\"keyword\">this</span>.setJMenuBar(mb); <span class=\"comment\">//设置菜单栏</span></span><br><span class=\"line\">\t\ttext.getDocument().addUndoableEditListener(manager); <span class=\"comment\">//对text添加侦听器，用于获得程序当前有效的文档</span></span><br><span class=\"line\">\t\ttext.setFont(<span class=\"keyword\">new</span> Font(<span class=\"string\">\"微软雅黑\"</span>,Font.PLAIN,<span class=\"number\">18</span>)); <span class=\"comment\">//设置默认字体和大小，Font.PLAIN为普通样式，Font.BOLD为加粗，Font.ITALIC为斜体</span></span><br><span class=\"line\">\t\ttext.setCaretColor(Color.RED); <span class=\"comment\">//光标颜色  </span></span><br><span class=\"line\">\t\ttext.setSelectedTextColor(Color.RED); <span class=\"comment\">//选中字体颜色</span></span><br><span class=\"line\">\t\ttext.setSelectionColor(Color.GREEN); <span class=\"comment\">//选中背景颜色</span></span><br><span class=\"line\">\t\ttext.setLineWrap(<span class=\"keyword\">true</span>); <span class=\"comment\">//是否换行</span></span><br><span class=\"line\">\t\ttext.setWrapStyleWord(<span class=\"keyword\">true</span>); <span class=\"comment\">//单词边界是否换行（即有空白）</span></span><br><span class=\"line\">\t\ttext.setMargin(<span class=\"keyword\">new</span> Insets(<span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>)); <span class=\"comment\">//文本区与边框的间距，四个参数分别为上、左、下、右</span></span><br><span class=\"line\">\t\ttext.setDragEnabled(<span class=\"keyword\">true</span>); <span class=\"comment\">//开启或关闭自动拖动处理  </span></span><br><span class=\"line\">\t\tadd(<span class=\"keyword\">new</span> JScrollPane(text,JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED)); <span class=\"comment\">//创建一个 JScrollPane，添加滚动条</span></span><br><span class=\"line\">\t\tM1 = <span class=\"keyword\">this</span>.AddBar(<span class=\"string\">\"文件\"</span>,mb);</span><br><span class=\"line\">\t\tM2 = <span class=\"keyword\">this</span>.AddBar(<span class=\"string\">\"编辑\"</span>,mb);</span><br><span class=\"line\">\t\tM3 = <span class=\"keyword\">this</span>.AddBar(<span class=\"string\">\"格式\"</span>,mb);</span><br><span class=\"line\">\t\tM4 = <span class=\"keyword\">this</span>.AddBar(<span class=\"string\">\"帮助\"</span>,mb);</span><br><span class=\"line\">\t\t<span class=\"comment\">/*新建选项*/</span></span><br><span class=\"line\">\t\tm11 = <span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"新建\"</span>,M1);</span><br><span class=\"line\">\t\tm11.addActionListener(<span class=\"keyword\">new</span> ActionListener()&#123;  </span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t\t\t</span>&#123;</span><br><span class=\"line\">\t\t\t\ttext.setText(<span class=\"string\">\"\"</span>); <span class=\"comment\">//新文件内容</span></span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">\t\t&#125;);  </span><br><span class=\"line\">\t\t<span class=\"comment\">/*打开选项*/</span>  </span><br><span class=\"line\">\t\tm12=<span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"打开\"</span>,M1);  </span><br><span class=\"line\">\t\tm12.addActionListener(<span class=\"keyword\">new</span> ActionListener()&#123;  </span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t\t\t</span>&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">\t\t\t\t\tchooser = <span class=\"keyword\">new</span> JFileChooser();  </span><br><span class=\"line\">\t\t\t\t\tchooser.setCurrentDirectory(<span class=\"keyword\">new</span> File(<span class=\"string\">\".\"</span>)); <span class=\"comment\">//设定当前目录</span></span><br><span class=\"line\">\t\t\t\t\tchooser.setFileFilter(<span class=\"keyword\">new</span> filter()); <span class=\"comment\">//过滤文件</span></span><br><span class=\"line\">\t\t\t\t\tchooser.showOpenDialog(<span class=\"keyword\">null</span>); <span class=\"comment\">//弹出一个\"打开\"文件选择器对话框。</span></span><br><span class=\"line\">\t\t\t\t\tfile = chooser.getSelectedFile(); <span class=\"comment\">//获取已经选择的文件</span></span><br><span class=\"line\">\t\t\t\t\ttitle = file.getName(); <span class=\"comment\">//获取文件名</span></span><br><span class=\"line\">\t\t\t\t\tsetTitle(title); <span class=\"comment\">//显示标题</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">int</span> length = (<span class=\"keyword\">int</span>)file.length();  </span><br><span class=\"line\">\t\t\t\t\tFileReader fr = <span class=\"keyword\">new</span> FileReader(file);  </span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">char</span>[] ch = <span class=\"keyword\">new</span> <span class=\"keyword\">char</span>[length];  </span><br><span class=\"line\">\t\t\t\t\tfr.read(ch);  </span><br><span class=\"line\">\t\t\t\t\ttitle = <span class=\"keyword\">new</span> String(ch); <span class=\"comment\">//获得对象的字段的值，然后转成string类型</span></span><br><span class=\"line\">\t\t\t\t\ttext.setText(title.trim()); <span class=\"comment\">//trim()函数去掉两边空格</span></span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">catch</span>(Exception e)&#123;JOptionPane.showMessageDialog(<span class=\"keyword\">null</span>,e);&#125;  </span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">\t\t&#125;);  </span><br><span class=\"line\">\t\t<span class=\"comment\">/*保存选项：(1)如果文件为空，新建一个目录保存；(2)如果当前文件存在，直接保存*/</span>  </span><br><span class=\"line\">\t\tm13 = <span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"保存\"</span>,M1);  </span><br><span class=\"line\">\t\tm13.addActionListener(<span class=\"keyword\">new</span> ActionListener()&#123;  </span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t\t\t</span>&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(file == <span class=\"keyword\">null</span>)<span class=\"keyword\">try</span>&#123;  </span><br><span class=\"line\">\t\t\t\t\tchooser = <span class=\"keyword\">new</span> JFileChooser();  </span><br><span class=\"line\">\t\t\t\t\tchooser.setCurrentDirectory(<span class=\"keyword\">new</span> File(<span class=\"string\">\".\"</span>));  </span><br><span class=\"line\">\t\t\t\t\ttitle = JOptionPane.showInputDialog(<span class=\"string\">\"请输入文件名：\"</span>) + <span class=\"string\">\".txt\"</span>;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t\t\t *setSelectedFile返回的是对话框中选中的文件但如果对话框类型是showSaveDialog的话,</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t\t\t  * 那么这里返回的值是你要保存的文件, 这个文件可能存在,可能不存在,就是你在对话框中输入的文件名了,</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t\t\t  * 既然知道了文件,如果不存在,就新建一个,然后向文件写入数据,这样就可以实现保存了</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t\t\t*/</span></span><br><span class=\"line\">\t\t\t\t\tchooser.setSelectedFile(<span class=\"keyword\">new</span> File(title));</span><br><span class=\"line\">\t\t\t\t\tchooser.setFileFilter(<span class=\"keyword\">new</span> filter());</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">int</span> temp = chooser.showSaveDialog(<span class=\"keyword\">null</span>); <span class=\"comment\">//获取当前对象</span></span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span>(temp == chooser.APPROVE_OPTION) <span class=\"comment\">//获得选中的文件对象</span></span><br><span class=\"line\">\t\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\t\tfile=<span class=\"keyword\">new</span> File(chooser.getCurrentDirectory(),title);  </span><br><span class=\"line\">\t\t\t\t\t\tfile.createNewFile();  </span><br><span class=\"line\">\t\t\t\t\t\tFileWriter fw=<span class=\"keyword\">new</span> FileWriter(file);  </span><br><span class=\"line\">\t\t\t\t\t\tfw.write(text.getText());  </span><br><span class=\"line\">\t\t\t\t\t\tfw.close();  </span><br><span class=\"line\">\t\t\t\t\t&#125;  </span><br><span class=\"line\">\t\t\t\t&#125;  </span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">catch</span>(Exception e)&#123;JOptionPane.showMessageDialog(<span class=\"keyword\">null</span>,e);&#125;  </span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">else</span> <span class=\"keyword\">try</span>&#123;  </span><br><span class=\"line\">\t\t\t\t\tFileWriter fw = <span class=\"keyword\">new</span> FileWriter(file);  </span><br><span class=\"line\">\t\t\t\t\tfw.write(text.getText());  </span><br><span class=\"line\">\t\t\t\t\tfw.close();  </span><br><span class=\"line\">\t\t\t\t&#125;  </span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">catch</span>(Exception e)&#123;JOptionPane.showMessageDialog(<span class=\"keyword\">null</span>,e);&#125;  </span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t\t<span class=\"comment\">/*另存为选项*/</span>  </span><br><span class=\"line\">\t\tm14=<span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"另存为\"</span>,M1);  </span><br><span class=\"line\">\t\tm14.addActionListener(<span class=\"keyword\">new</span> ActionListener()&#123;  </span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t\t\t</span>&#123;</span><br><span class=\"line\">\t\t\t\tchooser = <span class=\"keyword\">new</span> JFileChooser();  </span><br><span class=\"line\">\t\t        chooser.setCurrentDirectory(<span class=\"keyword\">new</span> File(<span class=\"string\">\".\"</span>));  </span><br><span class=\"line\">\t\t        <span class=\"keyword\">try</span>&#123;  </span><br><span class=\"line\">\t\t        \t<span class=\"keyword\">if</span>(file == <span class=\"keyword\">null</span>) title=JOptionPane.showInputDialog(<span class=\"string\">\"请输入文件名：\"</span>)+<span class=\"string\">\".txt\"</span>;  </span><br><span class=\"line\">\t\t        \t<span class=\"keyword\">else</span> title = file.getName();  </span><br><span class=\"line\">\t\t        \tchooser.setSelectedFile(<span class=\"keyword\">new</span> File(title));  </span><br><span class=\"line\">\t\t        \tchooser.setFileFilter(<span class=\"keyword\">new</span> filter());  </span><br><span class=\"line\">\t\t        \t<span class=\"keyword\">int</span> temp = chooser.showSaveDialog(<span class=\"keyword\">null</span>);</span><br><span class=\"line\">\t\t        \t<span class=\"keyword\">if</span>(temp == chooser.APPROVE_OPTION) <span class=\"comment\">//获得选中的文件对象</span></span><br><span class=\"line\">\t\t        \t&#123;</span><br><span class=\"line\">\t\t        \t\t<span class=\"keyword\">if</span>(file != <span class=\"keyword\">null</span>) file.delete();  </span><br><span class=\"line\">\t\t        \t\tfile = <span class=\"keyword\">new</span> File(chooser.getCurrentDirectory(),title);  </span><br><span class=\"line\">\t\t        \t\tfile.createNewFile();  </span><br><span class=\"line\">\t\t        \t\tFileWriter fw = <span class=\"keyword\">new</span> FileWriter(file);  </span><br><span class=\"line\">\t\t        \t\tfw.write(text.getText());  </span><br><span class=\"line\">\t\t        \t\tfw.close();  </span><br><span class=\"line\">\t\t        \t&#125;  </span><br><span class=\"line\">\t\t        &#125;  </span><br><span class=\"line\">\t\t        <span class=\"keyword\">catch</span>(Exception e)&#123;JOptionPane.showMessageDialog(<span class=\"keyword\">null</span>,e);&#125;  </span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">\t\t&#125;);  </span><br><span class=\"line\">\t       </span><br><span class=\"line\">\t\tM1.addSeparator(); <span class=\"comment\">//将默认大小的分隔符添加到工具栏的末尾。</span></span><br><span class=\"line\">\t\t<span class=\"comment\">/*退出选项*/</span></span><br><span class=\"line\">\t\tm15 = <span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"退出\"</span>,M1);  </span><br><span class=\"line\">\t\tm15.addActionListener(<span class=\"keyword\">new</span> ActionListener() &#123;</span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span> </span>&#123;</span><br><span class=\"line\">\t\t\t\t\tSystem.exit(<span class=\"number\">0</span>);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t\t<span class=\"comment\">/*撤消选项*/</span></span><br><span class=\"line\">\t\tm21 = <span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"撤消\"</span>,M2);  </span><br><span class=\"line\">\t\tm21.addActionListener(<span class=\"keyword\">new</span> ActionListener()&#123;  </span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t\t\t</span>&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(manager.canUndo())  </span><br><span class=\"line\">\t\t\t\t\tmanager.undo();  </span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t\t<span class=\"comment\">/*剪切选项*/</span></span><br><span class=\"line\">\t\tM2.addSeparator();  </span><br><span class=\"line\">\t\tm22 = <span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"剪切\"</span>,M2);  </span><br><span class=\"line\">\t\tm22.addActionListener(<span class=\"keyword\">new</span> ActionListener()&#123;  </span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t\t\t</span>&#123;</span><br><span class=\"line\">\t\t\t\ttext.cut();  </span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t\t<span class=\"comment\">/*复制选项*/</span></span><br><span class=\"line\">\t\tm23 = <span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"复制\"</span>,M2);  </span><br><span class=\"line\">\t\tm23.addActionListener(<span class=\"keyword\">new</span> ActionListener()&#123;  </span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t\t\t</span>&#123;</span><br><span class=\"line\">\t\t\t\ttext.copy();  </span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">\t\t&#125;);  </span><br><span class=\"line\">\t\t<span class=\"comment\">/*粘贴选项*/</span></span><br><span class=\"line\">\t\tm24 = <span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"粘贴\"</span>,M2);  </span><br><span class=\"line\">\t\tm24.addActionListener(<span class=\"keyword\">new</span> ActionListener()&#123;  </span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t\t    </span>&#123;</span><br><span class=\"line\">\t\t\t\ttext.paste();  </span><br><span class=\"line\">\t\t    &#125;  </span><br><span class=\"line\">\t\t&#125;);  </span><br><span class=\"line\">\t\t<span class=\"comment\">/*删除选项*/</span></span><br><span class=\"line\">\t\tm25 = <span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"删除\"</span>,M2);  </span><br><span class=\"line\">\t\tm25.addActionListener(<span class=\"keyword\">new</span> ActionListener()&#123;  </span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t\t\t</span>&#123;</span><br><span class=\"line\">\t\t\t\ttext.replaceRange(<span class=\"string\">\"\"</span>,text.getSelectionStart(),text.getSelectionEnd());  </span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t\t<span class=\"comment\">/*自动换行选项*/</span></span><br><span class=\"line\">\t\tM3.add(m31);</span><br><span class=\"line\">\t\tm31.addActionListener(<span class=\"keyword\">new</span> ActionListener()&#123;</span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t\t\t</span>&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(m31.getState())  </span><br><span class=\"line\">\t\t\t\t\ttext.setLineWrap(<span class=\"keyword\">true</span>);  </span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">else</span> text.setLineWrap(<span class=\"keyword\">false</span>);  </span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">\t\t&#125;);</span><br><span class=\"line\">\t\t<span class=\"comment\">/*字体格式设置选项*/</span></span><br><span class=\"line\">\t\tm32 = <span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"字体选择\"</span>,M3);  </span><br><span class=\"line\">\t\tm32.addActionListener(<span class=\"keyword\">new</span> ActionListener()&#123;  </span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t\t\t</span>&#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t\t * 字体格式设置选项 GraphicsEnvironment 类描述了Java应用程序在特定平台上</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t\t * 可用的 GraphicsDevice 对象和 Font 对象的集合</span></span><br><span class=\"line\"><span class=\"comment\">\t\t\t\t*/</span></span><br><span class=\"line\">\t\t\t\tGraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment(); <span class=\"comment\">//获取本地图形环境</span></span><br><span class=\"line\">\t\t\t\tJList fontNames = <span class=\"keyword\">new</span> JList(ge.getAvailableFontFamilyNames()); <span class=\"comment\">//字体名称列表框</span></span><br><span class=\"line\">\t\t\t\t<span class=\"comment\">/*JScrollPane类可以管理垂直和水平滚动条以及行和列标题视图*/</span></span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">int</span> response = JOptionPane.showConfirmDialog(<span class=\"keyword\">null</span>, <span class=\"keyword\">new</span> JScrollPane(fontNames),<span class=\"string\">\"请选择字体\"</span>,JOptionPane.OK_CANCEL_OPTION);  </span><br><span class=\"line\">\t\t\t\tObject selectedFont = fontNames.getSelectedValue();  </span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> (response == JOptionPane.OK_OPTION &amp;&amp; selectedFont != <span class=\"keyword\">null</span>)  </span><br><span class=\"line\">\t\t\t\t\ttext.setFont(<span class=\"keyword\">new</span> Font(fontNames.getSelectedValue().toString(),Font.PLAIN,<span class=\"number\">20</span>));  </span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">\t\t&#125;);  </span><br><span class=\"line\">\t\t<span class=\"comment\">/*字体颜色设置选项*/</span></span><br><span class=\"line\">\t\tm33 = <span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"字体颜色\"</span>,M3);  </span><br><span class=\"line\">\t\tm33.addActionListener(  </span><br><span class=\"line\">\t\t<span class=\"keyword\">new</span> ActionListener()&#123;  </span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span></span>&#123;  </span><br><span class=\"line\">\t\t\t\tColor color = JColorChooser.showDialog(<span class=\"keyword\">null</span>, <span class=\"string\">\"文字颜色选择\"</span>, Color.WHITE);  </span><br><span class=\"line\">\t\t\t\ttext.setForeground(color);  </span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">\t\t&#125;);  </span><br><span class=\"line\">\t\tm41 = <span class=\"keyword\">this</span>.AddItem(<span class=\"string\">\"关于\"</span>,M4);  </span><br><span class=\"line\">\t\tm41.addActionListener(<span class=\"keyword\">new</span> ActionListener()&#123;  </span><br><span class=\"line\">\t\t\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">actionPerformed</span><span class=\"params\">(ActionEvent event)</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t\t\t</span>&#123;</span><br><span class=\"line\">\t\t\t\tJOptionPane.showMessageDialog(<span class=\"keyword\">null</span>,<span class=\"string\">\"程序名称：笔记本\\n开发语言：JAVA\"</span>,<span class=\"string\">\"关于\"</span>,JOptionPane.PLAIN_MESSAGE);  </span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">\t\t&#125;);  </span><br><span class=\"line\">\t\tsetResizable(<span class=\"keyword\">true</span>); <span class=\"comment\">//窗体是否可变  </span></span><br><span class=\"line\">\t\tsetVisible(<span class=\"keyword\">true</span>); <span class=\"comment\">//窗体是否可见  </span></span><br><span class=\"line\">\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);  </span><br><span class=\"line\">\t&#125;  </span><br><span class=\"line\">  </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String args[])</span>  </span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\tnotebook note = <span class=\"keyword\">new</span> notebook(); <span class=\"comment\">//调用函数</span></span><br><span class=\"line\">\t&#125;  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"小结\">小结<a href=\"post/2-1#小结\"></a></h2><p>这个案例的目的在于熟悉java.swing里边的几个类，程序的逻辑性很强。</p>\n<p>记事本的功能并不齐全，只是一些基本的操作，掌握熟练后写一个进阶版的。</p>\n","prev":{"title":"【笔记】运筹学整理（1） - 线性规划的一般问题求解","slug":"3-1"},"next":{"title":"【历史】两晋那些事（番外篇） - 奇葩的魏晋风","slug":"1-2"},"link":"http://huazhongge.github.io/post/2-1/","toc":[{"title":"前言","id":"前言","index":"1"},{"title":"介绍","id":"介绍","index":"2","children":[{"title":"JMenu","id":"JMenu","index":"2.1"},{"title":"JFileChooser","id":"JFileChooser","index":"2.2"},{"title":"JOptionPane","id":"JOptionPane","index":"2.3"}]},{"title":"基本功能","id":"基本功能","index":"3"},{"title":"代码实现","id":"代码实现","index":"4"},{"title":"小结","id":"小结","index":"5"}],"copyright":{"author":"画中","link":"<a href=\"http://huazhongge.github.io/post/2-1/\" title=\"【编程】Java实现记事本 - 初级版\">http://huazhongge.github.io/post/2-1/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}